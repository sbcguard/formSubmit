!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FormSubmit={})}(this,(function(e){"use strict";const t=".error",r={color:"#000000",date:"yyyy-mm-dd","datetime-local":"yyyy-mm-ddThh:mm",email:"user@domain.com",file:"",image:"",month:"yyyy-mm",number:"0",password:"",range:"0",search:"Begin searching...",tel:"(000)000-0000",time:"hh:mm",url:"https://www.domain.com/",week:"yyyy-W00",text:"",radio:"",checkbox:"",hidden:"","select-one":"Choose an option...","select-multiple":"Choose multiple...",textarea:"Begin typing...",alpha:"Enter alpha characters only...",int:"0",float:"0.0",currency:"0.00",zipcode:"00000",zip:"00000",zip4:"0000",zipfull:"00000-0000",urlhttp:"https://www.domain.com/",urlpart:"path/to/resource.txt",hostname:"www.domain.com",domain:"domain.com",ip:"0.0.0.0",timestamp:"mm/dd/yyyy hh:mm:ss.ms",datemmddyyyy:"mm/dd/yyyy",dateyyyymmdd:"yyyy-mm-dd",routing:"000000000",cc:"0000 0000 0000 0000",cvv:"000 or 0000",ssn:"000-00-0000",parcel:"00-000-00-00-000.00 00"},a={color:{keys:/[0-9]|#|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^#([0-9a-fA-F]{6})$/,error:"Please select a valid color."},date:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4}-\d{2}-\d{2}$/,error:`Please enter a valid date (${r.date}).`},"datetime-local":{keys:/[0-9]|[T]|:|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^([0-9]{4})\-(1[0-2]|0[0-9])\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])T(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,error:`Please enter a valid timestamp (${r["datetime-local"]}).`},email:{keys:/[a-zA-Z0-9.!#$%&'*+_\/=?^\-`\{\|\}"\(\),:'<>@\[\]\\]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,error:`Please enter a valid email (${r.email}).`},file:{keys:/./,value:/^(.*)\.[\w+|\d+|\W+]{0,5}$/,error:"Please choose a valid file."},image:{keys:/./,value:/.+/,error:"Please choose a valid image."},month:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4}-\d{2}$/,error:`Please enter a valid month (${r.month}).`},number:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+$/,error:"Please enter a valid number."},password:{keys:/[a-zA-Z0-9!"#$%&'()*+,-./:;<=>?@\[\]\\\^_`\{\|\}~]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/./,error:"Please enter a valid password."},range:{keys:/[0-9]/,value:/\d+/,error:"Please select a valid value."},search:{keys:/./,value:/.+/,error:"Please enter a valid search string."},tel:{keys:/[0-9\-()]|Tab|Backspace/,value:/^((\+\d{1,2}\s?)?1?-?\.?\s?\(?\d{3}\)?[\s.-]?)?\d{3}[\s.-]?\d{4}$/,error:`Please enter a valid telephone number i.e. ${r.tel}.`},time:{keys:/[0-9]|:|Tab|Backspace/,value:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,error:`Please enter a valid time (${r.time}).`},url:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(https?):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]\b/,error:`Please enter a valid URL (${r.url}).`},week:{keys:/[0-9]|-|W|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4}-W\d{2}$/,error:`Please enter a valid week (${r.week}).`},text:{keys:/./,value:/.+/,error:"Please enter valid text only."},radio:{keys:/./,value:/.+/,error:"Please select an option."},checkbox:{keys:/./,value:/.+/,error:"Please select an option"},hidden:{keys:/./,value:/.+/,error:""},"select-one":{keys:/./,value:/.+/,error:"Please make a valid selection from the dropdown."},"select-multiple":{keys:/./,value:/.+/,error:"Please make valid selections."},textarea:{keys:/./,value:/.+/,error:"Please enter valid text."},alpha:{keys:/[a-z]|[A-Z]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\w+$/,error:"Please enter valid text only."},int:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+$/,error:`Please enter a valid whole number (${r.int}).`},float:{keys:/[0-9]|\.|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+\.{1}\d+$/,error:`Please enter a valid decimal number (${r.float}).`},currency:{keys:/[0-9]|\.|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+\.{1}\d{2}$/,error:`Please enter a valid currency value (${r.currency}).`},zipcode:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{5}$/,error:`Please enter a valid zipcode (${r.zipcode}).`},zip:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{5}$/,error:`Please enter a valid zipcode (${r.zip}).`},zip4:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{4}$/,error:`Please enter a valid zipcode (${r.zip4}).`},zipfull:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{5}-[0-9]{4}$/,error:`Please enter a valid zipcode (${r.zipfull}).`},urlhttp:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(https?):\/\/(\w|\d){3}\.(\w+|\d+)\.(\w|\d){3}\/\b/,error:`Please enter a valid full URL (${r.urlhttp}).`},urlpart:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b[\w+|\d+|\W+\/]*\.[\w+|\d+|\W+]{0,5}\b/,error:`Please enter a valid partial url (${r.urlpart}).`},hostname:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(.){1,}\.(\w+|\d+)\.(.){3}\b/,error:`Please enter a valid hostname (${r.hostname}).`},domain:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(\w+|\d+)\.(.){3}\b/,error:`Please enter a valid domain name (${r.domain}).`},ip:{keys:/[0-9]|\.|Tab|Backspace/,value:/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,error:`Please enter a valid IP address (${r.ip}).`},timestamp:{keys:/[0-9]|\/|:|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^(1[0-2]|0[0-9])\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\/([0-9]{4})\s(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])[\.][0-9]{3}$/,error:`Please enter a valid timestamp value (${r.timestamp}).`},datemmddyyyy:{keys:/[0-9]|\/|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^(1[0-2]|0[0-9])\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\/([0-9]{4})$/,error:`Please enter a valid date (${r.datemmddyyyy}).`},dateyyyymmdd:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^([0-9]{4})\-(1[0-2]|0[0-9])\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])$/,error:`Please enter a valid date (${r.dateyyyymmdd}).`},routing:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{9}$/,error:`Please enter a valid ABA Routing number (${r.routing}).`},cc:{keys:/[0-9]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4} \d{4} \d{4} \d{4}$/,error:`Please enter a valid credit card number (${r.cc}).`},cvv:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{3,4}$/,error:`Please enter a valid CVV (${r.cvv}).`},ssn:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{3}-\d{2}-\d{4}$/,error:`Please enter a valid SSN (${r.ssn}).`},parcel:{keys:/[0-9]|-|\.|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{2}-\d{3}-\d{2}-\d{2}-\d{3}\.\d{2}\s{1}\d{2}$/,error:`Please enter a valid parcel number (${r.parcel})`}},o={init:0,final:0},n=e=>{if(o.final=0,e.target){const t=Array.from(e.target.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea"));t.forEach((e=>e.value&&(e.value=e.value.trim()))),document.querySelectorAll("form").forEach((e=>{o.final+=e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea").length})),t.filter((e=>!l(e))).length>0&&o.init===o.final&&e.preventDefault()}},l=e=>{const t=e.tagName.toLowerCase(),r="true"===(e.dataset.type||e.type).toLowerCase()?"text":(e.dataset.type||e.type).toLowerCase();if(e instanceof HTMLFormElement){const t=Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea"));let a=!0;return t.forEach((e=>{const{required:t,name:o}=e,n=l(e);n?console.log(`Input Name: ${o}\r\nInput Type: ${r}\r\nRequired: ${t}\r\nisValid: ${l}`):console.error(`Input Name: ${o}\r\nInput Type: ${r}\r\nRequired: ${t}\r\nisValid: ${l}`),n||(a=!1)})),a}if(!r)throw new Error(`Invalid Element Type: ${t}\r\nValid input elements only`);return["select-one","select-multiple"].includes(r)?s(e,!0):["radio","checkbox"].includes(r)?c(e,!0):u(e,!0)},i=e=>{const{target:t}=e;if(!t)throw new Error("No event target found");if(t instanceof HTMLSelectElement&&s(t),t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){const{type:e,dataset:r}=t,{type:a}=r,o=(a||e).toLowerCase();!["radio","checkbox"].includes(o)||t instanceof HTMLTextAreaElement||c(t),!["file","image"].includes(o)||t instanceof HTMLTextAreaElement||p(t),["file","image","hidden"].includes(o)||u(t)}},s=(e,r)=>{const{required:o,multiple:n}=e,l=e.selectedOptions,i=e.dataset.type||e.type||n?"select-multiple":"select-one",s=n?Array.from(l).map((e=>e.value)).join(","):l[0].value,c=!o||!!s,d=e.parentNode;if(!c&&!r){if(!d)throw new Error(`Parent element not found for Input Name:${e.name}`);{d.querySelector(t)||y(e);const r=d.querySelector(t);r?r.textContent=e.dataset.error||a[i].error:console.warn(`Error message field not found for Input Name:${e.name}`)}const r=e.parentNode.querySelector(t);r?r.textContent=e.dataset.error||a[i].error:console.warn(`Error message field not found for Input Name:${e.name}`)}if(c&&!r&&d){const e=d.querySelector(t);e&&e.remove()}return c},c=(e,r)=>{const{type:o}=e.dataset||e;if(!o)throw new Error("Invalid HTML detected, type attribute required on input elements.");const n="form"!==e?.parentNode?.parentNode?.nodeName.toLowerCase()&&0!==e?.parentNode?.parentNode?.querySelectorAll(`input[type=${o}]`).length?e?.parentNode?.parentNode?.querySelectorAll(`input[type=${o}]`):e.parentNode.querySelectorAll(`input[type=${o}]`),l="form"!==e?.parentElement?.parentElement?.nodeName.toLowerCase()&&0!==e?.parentElement?.parentElement?.querySelectorAll(`input[type=${o}]`).length?e.parentElement?.parentElement:e.parentElement;if(n&&l){const i=!!!Array.from(n).find((e=>e.required))||Array.from(n).filter((e=>!0===e.checked)).length>0;if(!i&&!r){l.querySelector(t)||y(l,!0);const r=l.querySelector(t);r?r.textContent=e.dataset.error||a[o].error:console.warn(`Error message field not found for Input Name:${e.name}`)}if(i&&!r){const e=l.querySelector(t);e&&e.remove()}return i}throw new Error(`Invalid html formatting at InputName: ${e.name}. Radios/checkboxes must be correctly wrapped with <label> and a container element.\r\n\n      I.E. <div>\r\n\t<div>\r\n\t\t<input type="checkbox/radio"/>\r\n\t\t<label>Label Text</label>\r\n\t</div>\r\n\t<div>\r\n\t\t<input type="checkbox/radio"/>\r\n\t\t<label>Label Text</label>\r\n\t</div>\r\n</div>`)},d=e=>{const t=e instanceof Event?e.target:e,r="form"!==t?.parentNode?.parentNode?.nodeName.toLowerCase()&&0!==t?.parentNode?.parentNode?.querySelectorAll("input[type=radio]").length?t.parentNode?.parentNode?.querySelectorAll("input[type=radio]"):t.parentNode.querySelectorAll("input[type=radio]");r&&Array.from(r).filter((e=>e!==t)).forEach((e=>e.checked=!1))},u=(e,r)=>{const{type:o}=e.dataset||e,n="true"===o?"text":e.dataset.type||e.type,l=0===e.value.trim().length,{required:i}=e;if(!r){const r=e.parentNode;if(!r)throw new Error(`Parent element not found for Input Name:${e.name}`);if(r){r.querySelector(t)||y(e);const o=r.querySelector(t);if(!o)throw new Error(`Error initializing error field for Input Name: ${e.name}`);{const{error:t}=e.dataset||a[n];if(!t)throw new Error(`Error initializing error message value for Input Name: ${e.name}`);i&&l?o.textContent=t:(!i||l||a[n].value.test(e.value))&&(i||l||a[n].value.test(e.value))?o.textContent="":o.textContent=t,""===o.textContent&&o.remove()}}}return(!i||!l)&&(!(i&&!l&&!a[n].value.test(e.value))&&!!(i||l||a[n].value.test(e.value)))},p=(e,r)=>{const{type:o,accept:n,required:l,files:i}=e;if("file"!==o)throw new Error("Invalid input type");if(!n)throw new Error("Missing accept attribute on file input element. Set accept to '*' to allow all file types.");const s=n.split(",").map((e=>e.trim())),c=[];if(!r){const r=e.parentNode;if(!r)throw new Error(`Parent element not found for Input Name:${e.name}`);r.querySelector(t)||y(e);const o=r.querySelector(t);if(!o)throw new Error(`Error initializing error field for Input Name: ${e.name}`);const{error:n}=e.dataset||a.file;if(i){if(i.length>0){const t=[];for(const e of Array.from(i)){const{name:r,type:o}=e;!("*"===s[0]||s.some((e=>e.endsWith("/*")?o.startsWith(e.slice(0,-2)):o.includes(e.replace(".","")))))&&t.push(`${r} - Invalid file type, ${o.toLowerCase()}.`),c.push(a.file.value.test(r))}if(!n)throw new Error(`Error initializing error message value for Input Name: ${e.name}`);l&&0===i.length?o.textContent=n:l&&i.length>0&&t.length>0||!l&&i.length>0&&t.length>0?o.textContent=t.join("\r\n"):o.textContent="",t.length>0&&(e.value="")}""===o.textContent&&o.remove()}}if(r&&i)return(!l||0!==i.length)&&(!(l&&i.length>0&&!c.includes(!1))&&!(!l&&i.length>0&&!c.includes(!1)))},m=e=>{const{key:t,target:r}=e;if(r&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)){const{dataset:o}=r,n="true"===(o.type||r.type)?"text":o.type||r.type;a[n].keys.test(t)||e.preventDefault()}},y=(e,t)=>{const r=document.createElement("div");r.classList.add("error"),t?e.appendChild(r):e.insertAdjacentElement("afterend",r)},f=(e,t)=>{t.forEach((t=>{e.addEventListener(t,i)}))},h=()=>{document.querySelectorAll("form").forEach((e=>{const t=Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea"));for(let e=0;e<t.length;e++)o.init++;t.forEach((e=>{const{type:t,dataset:a}=e,{type:o}=a,n=(o||t).toLowerCase();["file","image","hidden","select-one","select-multiple","radio","checkbox"].includes(n)||(!(e instanceof HTMLSelectElement)&&!e.placeholder&&(e.placeholder=r[n]),"ssn"===n&&e.setAttribute("type","password"),f(e,["input","change","blur"]),e.addEventListener("keydown",m)),["file","image"].includes(n)&&f(e,["input","change","blur"]),["select-one","select-multiple"].includes(n)&&f(e,["input","change","blur"]),"radio"===n&&(e.addEventListener("change",d),f(e,["input","blur"])),"checkbox"===n&&f(e,["input","change","blur"])})),e.addEventListener("submit",n)}))};async function v(){try{await new Promise((e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()})),h()}catch(e){throw new Error(`${e.message}\r\nFailed to initialize mark down editor.`)}}v(),window.isValid=l,window.checkAllValidity=()=>{const e=document.querySelectorAll("form"),t=[],r=[];e.forEach((e=>{Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea")).forEach((e=>{const{type:o,dataset:n}=e,{type:l}=n,i="true"===(l||o).toLowerCase()?"text":(l||o).toLowerCase();a[i].value.test(e.value)?t.push(e):r.push(e)}))})),console.group("Valid Inputs:"),t.forEach((e=>console.info(e,e.value))),console.groupEnd(),console.group("Invalid Inputs:"),r.forEach((e=>console.error(e,e.value))),console.groupEnd()},window.reinitialize=()=>{o.init=0;document.querySelectorAll("form").forEach((e=>{Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea")).forEach((e=>(e=>{const t=["keydown","input","change","blur"],r=[m,i];for(let a=0;a<t.length;a++)for(let o=0;o<r.length;o++)e.removeEventListener(t[a],r[o])})(e))),e.removeEventListener("submit",n)})),h()},e.init=v}));
//# sourceMappingURL=formSubmit.min.js.map
