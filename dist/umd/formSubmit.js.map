{"version":3,"file":"formSubmit.js","sources":["../../src/store.ts","../../src/functions.ts","../../src/index.ts"],"sourcesContent":["import { InputControlObject, PlaceholderObject } from './types';\n\nexport const errClassSelector = '.error';\nexport const inputPlaceholder: PlaceholderObject = {\n  //native html input types except for 'button', 'reset', 'submit'\n  color: '#000000',\n  date: 'yyyy-mm-dd',\n  'datetime-local': 'yyyy-mm-ddThh:mm',\n  email: 'user@domain.com',\n  file: '',\n  image: '',\n  month: 'yyyy-mm',\n  number: '0',\n  password: '',\n  range: '0',\n  search: 'Begin searching...',\n  tel: '(000)000-0000',\n  time: 'hh:mm',\n  url: 'https://www.domain.com/',\n  week: 'yyyy-W00',\n  text: '',\n  radio: '',\n  checkbox: '',\n  hidden: '',\n  'select-one': 'Choose an option...',\n  'select-multiple': 'Choose multiple...',\n  textarea: 'Begin typing...',\n  //custom types define by 'data-type=\"\"'\n  alpha: 'Enter alpha characters only...',\n  int: '0',\n  float: '0.0',\n  currency: '0.00',\n  zipcode: '00000',\n  zip: '00000',\n  zip4: '0000',\n  zipfull: '00000-0000',\n  urlhttp: 'https://www.domain.com/',\n  urlpart: 'path/to/resource.txt',\n  hostname: 'www.domain.com',\n  domain: 'domain.com',\n  ip: '0.0.0.0',\n  timestamp: 'mm/dd/yyyy hh:mm:ss.ms',\n  datemmddyyyy: 'mm/dd/yyyy',\n  dateyyyymmdd: 'yyyy-mm-dd',\n  routing: '000000000',\n  cc: '0000 0000 0000 0000',\n  cvv: '000 or 0000',\n  ssn: '000-00-0000',\n  parcel: '00-000-00-00-000.00 00',\n};\nexport const inputTypes: InputControlObject = {\n  //native html input types except for 'button', 'reset', 'submit'\n  /*\n    'type attribute name': {\n      keys: regex value for allowed keys,\n      value: regex value for allowed value format\n      error: default error message\n    },\n    */\n  color: {\n    keys: /[0-9]|#|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^#([0-9a-fA-F]{6})$/,\n    error: 'Please select a valid color.',\n  },\n  date: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4}-\\d{2}-\\d{2}$/,\n    error: `Please enter a valid date (${inputPlaceholder.date}).`,\n  },\n  'datetime-local': {\n    keys: /[0-9]|[T]|:|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value:\n      /^([0-9]{4})\\-(1[0-2]|0[0-9])\\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])T(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,\n    error: `Please enter a valid timestamp (${inputPlaceholder['datetime-local']}).`,\n  },\n  email: {\n    keys: /[a-zA-Z0-9.!#$%&'*+_\\/=?^\\-`\\{\\|\\}\"\\(\\),:'<>@\\[\\]\\\\]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n    error: `Please enter a valid email (${inputPlaceholder.email}).`,\n  },\n  file: {\n    keys: /./,\n    value: /^(.*)\\.[\\w+|\\d+|\\W+]{0,5}$/,\n    error: 'Please choose a valid file.',\n  },\n  image: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please choose a valid image.',\n  },\n  month: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4}-\\d{2}$/,\n    error: `Please enter a valid month (${inputPlaceholder.month}).`,\n  },\n  number: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+$/,\n    error: 'Please enter a valid number.',\n  },\n  password: {\n    keys: /[a-zA-Z0-9!\"#$%&'()*+,-./:;<=>?@\\[\\]\\\\\\^_`\\{\\|\\}~]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /./,\n    // Allow all for now, can be set to require special characters and minimum length with,\n    // note for this regex, testing against it should fail for a valid value as it is looking\n    // for the missing requirements to make for a shorter regex (1 upper, 1 lower, 1 special, at least 8 char long)\n    // /^(.{0,7}|[^0-9]*|[^A-Z]*|[^a-z]*|[a-zA-Z0-9]*)$/\n    error: 'Please enter a valid password.',\n  },\n  range: {\n    keys: /[0-9]/,\n    value: /\\d+/,\n    error: 'Please select a valid value.',\n  },\n  search: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please enter a valid search string.',\n  },\n  tel: {\n    keys: /[0-9\\-()]|Tab|Backspace/,\n    value: /^((\\+\\d{1,2}\\s?)?1?-?\\.?\\s?\\(?\\d{3}\\)?[\\s.-]?)?\\d{3}[\\s.-]?\\d{4}$/,\n    error: `Please enter a valid telephone number i.e. ${inputPlaceholder.tel}.`,\n  },\n  time: {\n    keys: /[0-9]|:|Tab|Backspace/,\n    value: /^(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,\n    error: `Please enter a valid time (${inputPlaceholder.time}).`,\n  },\n  url: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(https?):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]\\b/,\n    error: `Please enter a valid URL (${inputPlaceholder.url}).`,\n  },\n  week: {\n    keys: /[0-9]|-|W|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4}-W\\d{2}$/,\n    error: `Please enter a valid week (${inputPlaceholder.week}).`,\n  },\n  text: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please enter valid text only.',\n  },\n  radio: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please select an option.',\n  },\n  checkbox: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please select an option',\n  },\n  hidden: {\n    keys: /./,\n    value: /.+/,\n    error: '',\n  },\n  'select-one': {\n    keys: /./,\n    value: /.+/,\n    error: 'Please make a valid selection from the dropdown.',\n  },\n  'select-multiple': {\n    keys: /./,\n    value: /.+/,\n    error: 'Please make valid selections.',\n  },\n  textarea: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please enter valid text.',\n  },\n  //custom types define by 'data-type=\"\"' attribute\n  alpha: {\n    keys: /[a-z]|[A-Z]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\w+$/,\n    error: 'Please enter valid text only.',\n  },\n  int: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+$/,\n    error: `Please enter a valid whole number (${inputPlaceholder.int}).`,\n  },\n  float: {\n    keys: /[0-9]|\\.|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+\\.{1}\\d+$/,\n    error: `Please enter a valid decimal number (${inputPlaceholder.float}).`,\n  },\n  currency: {\n    keys: /[0-9]|\\.|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+\\.{1}\\d{2}$/,\n    error: `Please enter a valid currency value (${inputPlaceholder.currency}).`,\n  },\n  zipcode: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{5}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zipcode}).`,\n  },\n  zip: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{5}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zip}).`,\n  },\n  zip4: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{4}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zip4}).`,\n  },\n  zipfull: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{5}-[0-9]{4}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zipfull}).`,\n  },\n  urlhttp: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(https?):\\/\\/(\\w|\\d){3}\\.(\\w+|\\d+)\\.(\\w|\\d){3}\\/\\b/,\n    error: `Please enter a valid full URL (${inputPlaceholder.urlhttp}).`,\n  },\n  urlpart: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b[\\w+|\\d+|\\W+\\/]*\\.[\\w+|\\d+|\\W+]{0,5}\\b/,\n    error: `Please enter a valid partial url (${inputPlaceholder.urlpart}).`,\n  },\n  hostname: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(.){1,}\\.(\\w+|\\d+)\\.(.){3}\\b/,\n    error: `Please enter a valid hostname (${inputPlaceholder.hostname}).`,\n  },\n  domain: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(\\w+|\\d+)\\.(.){3}\\b/,\n    error: `Please enter a valid domain name (${inputPlaceholder.domain}).`,\n  },\n  ip: {\n    keys: /[0-9]|\\.|Tab|Backspace/,\n    value: /^(?!0)(?!.*\\.$)((1?\\d?\\d|25[0-5]|2[0-4]\\d)(\\.|$)){4}$/,\n    error: `Please enter a valid IP address (${inputPlaceholder.ip}).`,\n  },\n  timestamp: {\n    keys: /[0-9]|\\/|:|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value:\n      /^(1[0-2]|0[0-9])\\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\\/([0-9]{4})\\s(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])[\\.][0-9]{3}$/,\n    error: `Please enter a valid timestamp value (${inputPlaceholder.timestamp}).`,\n  },\n  datemmddyyyy: {\n    keys: /[0-9]|\\/|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^(1[0-2]|0[0-9])\\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\\/([0-9]{4})$/,\n    error: `Please enter a valid date (${inputPlaceholder.datemmddyyyy}).`,\n  },\n  dateyyyymmdd: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^([0-9]{4})\\-(1[0-2]|0[0-9])\\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])$/,\n    error: `Please enter a valid date (${inputPlaceholder.dateyyyymmdd}).`,\n  },\n  routing: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{9}$/,\n    error: `Please enter a valid ABA Routing number (${inputPlaceholder.routing}).`,\n  },\n  cc: {\n    keys: /[0-9]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4} \\d{4} \\d{4} \\d{4}$/,\n    error: `Please enter a valid credit card number (${inputPlaceholder.cc}).`,\n  },\n  cvv: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{3,4}$/,\n    error: `Please enter a valid CVV (${inputPlaceholder.cvv}).`,\n  },\n  ssn: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{3}-\\d{2}-\\d{4}$/,\n    error: `Please enter a valid SSN (${inputPlaceholder.ssn}).`,\n  },\n  parcel: {\n    keys: /[0-9]|-|\\.|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{2}-\\d{3}-\\d{2}-\\d{2}-\\d{3}\\.\\d{2}\\s{1}\\d{2}$/,\n    error: `Please enter a valid parcel number (${inputPlaceholder.parcel})`,\n  },\n};\nexport const Counter = {\n  init: 0,\n  final: 0,\n};\n","import { Counter, errClassSelector, inputPlaceholder, inputTypes } from './store';\nimport { FormInput, FormInputEvent } from './types';\nconst handleFormSubmit = (ev: SubmitEvent) => {\n  Counter.final = 0; //reset count\n  if (ev.target) {\n    const inputs: FormInput[] = Array.from(\n      (ev.target as HTMLFormElement).querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    ); //selects all form input elements\n    inputs.forEach((input: FormInput) => input.value && (input.value = input.value.trim())); //Trims leading and trailing spaces\n    document.querySelectorAll('form').forEach((form) => {\n      Counter.final += form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ).length;\n    });\n    inputs.filter((input: FormInput) => !isValid(input)).length > 0 &&\n    Counter.init === Counter.final\n      ? ev.preventDefault()\n      : null;\n  }\n};\nexport const isValid = (el: FormInput | HTMLFormElement): boolean => {\n  const tag = el.tagName.toLowerCase();\n  (el.dataset.type || el.type).toLowerCase() === 'true'\n    ? 'text'\n    : (el.dataset.type || el.type).toLowerCase();\n  if (el instanceof HTMLFormElement) {\n    //Allows for passing in an entire FORM tag and validating all inputs where as checkAllValidity checks all forms on the page\n    const inputs: FormInput[] = Array.from(\n      el.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    let isFormValid = true;\n    inputs.forEach((input) => {\n      const { required, name } = input;\n      const type = resolveType(input);\n      const isValidInput = isValid(input);\n      isValidInput\n        ? console.log(\n            `Input Name: ${name}\\r\\nInput Type: ${type}\\r\\nRequired: ${required}\\r\\nisValid: ${isValid} \\r\\nDepricated form-submit-required: ${input.dataset.formSubmitRequired}`,\n          )\n        : console.error(\n            `Input Name: ${name}\\r\\nInput Type: ${type}\\r\\nRequired: ${required}\\r\\nisValid: ${isValid} \\r\\nDepricated form-submit-required: ${input.dataset.formSubmitRequired}`,\n          );\n      if (!isValidInput) isFormValid = false;\n    });\n    return isFormValid;\n  } else {\n    const type = resolveType(el);\n    if (!type) {\n      throw new Error(`Invalid Element Type: ${tag}\\r\\nValid input elements only`);\n    }\n    return ['select-one', 'select-multiple'].includes(type)\n      ? handleSelect(el as HTMLSelectElement, true)\n      : ['radio', 'checkbox'].includes(type)\n        ? handleRadiosCheckboxes(el as HTMLInputElement, true)\n        : handleInput(el as HTMLInputElement, true);\n  }\n};\n\nexport const checkAllValidity = () => {\n  const forms = document.querySelectorAll('form');\n  const validInputs: FormInput[] = [];\n  const invalidInputs: FormInput[] = [];\n  forms.forEach((form) => {\n    const inputs: FormInput[] = Array.from(\n      form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    inputs.forEach((input) => {\n      const resolvedType = resolveType(input);\n      inputTypes[resolvedType].value.test(input.value)\n        ? validInputs.push(input)\n        : invalidInputs.push(input);\n    });\n  });\n  console.group('Valid Inputs:');\n  validInputs.forEach((el) => console.info(el, el.value));\n  console.groupEnd();\n  console.group('Invalid Inputs:');\n  invalidInputs.forEach((el) => console.error(el, el.value));\n  console.groupEnd();\n  return;\n};\nconst resolveType = (el: HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement) =>\n  (el.dataset.formSubmitRequired || el.dataset.formSubmitOptional || el.dataset.type || el.type) ===\n  'true'\n    ? 'text'\n    : el.dataset.formSubmitRequired || el.dataset.formSubmitOptional || el.dataset.type || el.type;\n\nconst inputEventHandler: EventListenerOrEventListenerObject = (ev: FormInputEvent) => {\n  const { target } = ev;\n  if (target) {\n    if (target instanceof HTMLSelectElement) handleSelect(target);\n    if (target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement) {\n      const resolvedType = resolveType(target);\n      if (\n        ['radio', 'checkbox'].includes(resolvedType) &&\n        !(target instanceof HTMLTextAreaElement)\n      ) {\n        handleRadiosCheckboxes(target);\n      }\n      if (['file', 'image'].includes(resolvedType) && !(target instanceof HTMLTextAreaElement))\n        handleFileInput(target);\n      if (!['file', 'image', 'hidden'].includes(resolvedType)) handleInput(target);\n    }\n  } else {\n    throw new Error('No event target found');\n  }\n};\nconst handleSelect = (input: HTMLSelectElement, cb?: (() => void) | boolean) => {\n  const { required, multiple } = input;\n  const selections = input.selectedOptions;\n  const type = resolveType(input); //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n  const val = multiple\n    ? Array.from(selections)\n        .map((selection) => selection.value)\n        .join(',')\n    : selections[0].value;\n  const valid = input.dataset.formSubmitRequired || required ? (val ? true : false) : true;\n  const parent = input.parentNode;\n  if (!valid && !cb) {\n    if (parent) {\n      if (!parent.querySelector(errClassSelector)) {\n        appendErrEl(input);\n      } //if there is no error message field, create it\n      const inputErrorField = parent.querySelector(errClassSelector); //finds to appropriate error field\n      if (inputErrorField) {\n        inputErrorField.textContent =\n          input.dataset.formSubmitErrorMsg || input.dataset.error || inputTypes[type].error;\n      } else {\n        console.warn(`Error message field not found for Input Name:${input.name}`);\n      }\n    } else {\n      throw new Error(`Parent element not found for Input Name:${input.name}`);\n    }\n    const inputErrorField = input.parentNode.querySelector(errClassSelector); //finds to appropriate error field\n    if (inputErrorField) {\n      inputErrorField.textContent =\n        input.dataset.formSubmitErrorMsg || input.dataset.error || inputTypes[type].error;\n    } else {\n      console.warn(`Error message field not found for Input Name:${input.name}`);\n    }\n  }\n  if (valid && !cb) {\n    if (parent) {\n      const errFld = parent.querySelector(errClassSelector);\n      if (errFld) {\n        errFld.remove();\n      } //Remove the error field if there is no error, reduces impact to CSS\n    }\n  }\n  if (cb) return valid;\n  return valid;\n};\n//Each radio/checkbox and its label should be wrapped in an element for ADA compliance i.e. <div><radio/><radio/></div>\nconst handleRadiosCheckboxes = (input: HTMLInputElement, cb?: (() => void) | boolean) => {\n  const { type } = input.dataset || input; //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n  if (!type) throw new Error('Invalid HTML detected, type attribute required on input elements.');\n  //checked for radios contained in 1 element or contained in multiple wrapping elements\n  const controlGroup: NodeListOf<HTMLInputElement> | undefined =\n    input?.parentNode?.parentNode?.nodeName.toLowerCase() !== 'form' &&\n    input?.parentNode?.parentNode?.querySelectorAll(`input[type=${type}]`).length !== 0\n      ? input?.parentNode?.parentNode?.querySelectorAll(`input[type=${type}]`)\n      : input.parentNode.querySelectorAll(`input[type=${type}]`);\n  const container =\n    input?.parentElement?.parentElement?.nodeName.toLowerCase() !== 'form' &&\n    input?.parentElement?.parentElement?.querySelectorAll(`input[type=${type}]`).length !== 0\n      ? input.parentElement?.parentElement\n      : input.parentElement;\n  if (controlGroup && container) {\n    const isRequired = Array.from(controlGroup).find(\n      (el) => el.dataset.formSubmitRequired || el.required,\n    )\n      ? true\n      : false; //Checks if any of the group has a required attribute\n    const valid = isRequired\n      ? Array.from(controlGroup).filter((el) => el.checked === true).length > 0\n        ? true\n        : false\n      : true; //if required is present on any element in the group, check that a selection is made\n    if (!valid && !cb) {\n      if (!container.querySelector(errClassSelector)) {\n        appendErrEl(container, true);\n      }\n      const inputErrorField = container.querySelector(errClassSelector);\n      if (inputErrorField) {\n        inputErrorField.textContent =\n          input.dataset.formSubmitErrorMsg || input.dataset.error || inputTypes[type].error;\n      } else {\n        console.warn(`Error message field not found for Input Name:${input.name}`);\n      }\n    }\n    if (valid && !cb) {\n      const inputErrorField = container.querySelector(errClassSelector);\n      if (inputErrorField) {\n        inputErrorField.remove();\n      } //Remove the error field if there is no error, reduces impact to CSS\n    }\n    if (cb) return valid;\n    return valid;\n  } else {\n    throw new Error(\n      `Invalid html formatting at InputName: ${input.name}. Radios/checkboxes must be correctly wrapped with <label> and a container element.\\r\\n\n      I.E. <div>\\r\\n\\t<div>\\r\\n\\t\\t<input type=\"checkbox/radio\"/>\\r\\n\\t\\t<label>Label Text</label>\\r\\n\\t</div>\\r\\n\\t<div>\\r\\n\\t\\t<input type=\"checkbox/radio\"/>\\r\\n\\t\\t<label>Label Text</label>\\r\\n\\t</div>\\r\\n</div>`,\n    );\n  }\n};\n//Locks radio groups to only 1 selection\nconst controlRadios = (e: HTMLInputElement | FormInputEvent) => {\n  const input = e instanceof Event ? (e.target as HTMLInputElement) : e; //allows for event driven and passing in entire elements\n  //checked for radios contained in 1 element or contained in multiple wrapping elements\n  const radioGroup: NodeListOf<HTMLInputElement> | undefined =\n    input?.parentNode?.parentNode?.nodeName.toLowerCase() !== 'form' &&\n    input?.parentNode?.parentNode?.querySelectorAll('input[type=radio]').length !== 0\n      ? input.parentNode?.parentNode?.querySelectorAll('input[type=radio]')\n      : input.parentNode.querySelectorAll('input[type=radio]');\n  //Forces only one radio selection for each group of radio buttons\n  if (radioGroup) {\n    Array.from(radioGroup)\n      .filter((el) => el !== input)\n      .forEach((el) => (el.checked = false));\n  }\n};\n//Validates against a regex for the input type, if it doesn't pass the check, returns the error message\nconst handleInput = (\n  input: HTMLInputElement | HTMLTextAreaElement,\n  cb?: (() => void) | boolean,\n) => {\n  const inputType = resolveType(input); //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n  const isNull = input.value.trim().length === 0; //Checks if a value was entered\n  const { required } = input;\n  if (!cb) {\n    const parent = input.parentNode;\n    if (!parent) throw new Error(`Parent element not found for Input Name:${input.name}`);\n    if (parent) {\n      if (!parent.querySelector(errClassSelector)) {\n        appendErrEl(input);\n      } //if there is no error message field, create it\n      const inputErrorField = parent.querySelector(errClassSelector); //finds to appropriate error field\n      if (inputErrorField) {\n        const { error: errMsg } = input.dataset || inputTypes[inputType];\n        if (errMsg) {\n          (input.dataset.formSubmitRequired || required) && isNull\n            ? (inputErrorField.textContent = input.dataset.formSubmitErrorMsg || errMsg) //if required and has no value\n            : (input.dataset.formSubmitRequired || required) &&\n                !isNull &&\n                !inputTypes[inputType].value.test(input.value)\n              ? (inputErrorField.textContent = input.dataset.formSubmitErrorMsg || errMsg) //if required and has an invalid value\n              : !(input.dataset.formSubmitRequired || required) &&\n                  !isNull &&\n                  !inputTypes[inputType].value.test(input.value)\n                ? (inputErrorField.textContent = input.dataset.formSubmitErrorMsg || errMsg)\n                : (inputErrorField.textContent = ''); //if not required but has an invalid value\n          //Remove the error field if there is no error, reduces impact to CSS\n        } else {\n          throw new Error(`Error initializing error message value for Input Name: ${input.name}`);\n        }\n        if (inputErrorField.textContent === '') inputErrorField.remove();\n      } else {\n        throw new Error(`Error initializing error field for Input Name: ${input.name}`);\n      }\n    }\n  }\n  if (cb)\n    return (input.dataset.formSubmitRequired || required) && isNull\n      ? false\n      : (input.dataset.formSubmitRequired || required) &&\n          !isNull &&\n          !inputTypes[inputType].value.test(input.value)\n        ? false\n        : !input.dataset.formSubmitRequired &&\n            !required &&\n            !isNull &&\n            !inputTypes[inputType].value.test(input.value)\n          ? false\n          : true;\n  return (input.dataset.formSubmitRequired || required) && isNull\n    ? false\n    : (input.dataset.formSubmitRequired || required) &&\n        !isNull &&\n        !inputTypes[inputType].value.test(input.value)\n      ? false\n      : !input.dataset.formSubmitRequired &&\n          !required &&\n          !isNull &&\n          !inputTypes[inputType].value.test(input.value)\n        ? false\n        : true;\n};\nconst handleFileInput = (input: HTMLInputElement, cb?: (() => void) | boolean) => {\n  const { type, accept, required, files } = input;\n  if (type !== 'file') throw new Error(`Invalid input type`);\n  if (!accept)\n    throw new Error(\n      `Missing accept attribute on file input element. Set accept to '*' to allow all file types.`,\n    );\n  const acceptedTypes = accept.split(',').map((type) => type.trim());\n  const regexCheck = [];\n  if (!cb) {\n    const parent = input.parentNode;\n    if (!parent) throw new Error(`Parent element not found for Input Name:${input.name}`);\n    if (!parent.querySelector(errClassSelector)) {\n      appendErrEl(input);\n    } //if there is no error message field, create it\n    const inputErrorField = parent.querySelector(errClassSelector); //finds to appropriate error field\n    if (!inputErrorField)\n      throw new Error(`Error initializing error field for Input Name: ${input.name}`);\n    const { error: errMsg } = input.dataset || inputTypes.file;\n    if (files) {\n      if (files.length > 0) {\n        const fileTypeErr = [];\n        for (const file of Array.from(files)) {\n          const { name, type } = file;\n          const isValidType =\n            acceptedTypes[0] === '*'\n              ? true\n              : acceptedTypes.some((atype) =>\n                  atype.endsWith('/*')\n                    ? type.startsWith(atype.slice(0, -2))\n                    : type.includes(atype.replace('.', '')),\n                );\n          !isValidType && fileTypeErr.push(`${name} - Invalid file type, ${type.toLowerCase()}.`);\n          regexCheck.push(inputTypes.file.value.test(name));\n        }\n        if (errMsg) {\n          (input.dataset.formSubmitRequired || required) && files.length === 0\n            ? (inputErrorField.textContent = errMsg)\n            : (input.dataset.formSubmitRequired || required) &&\n                files.length > 0 &&\n                fileTypeErr.length > 0\n              ? (inputErrorField.textContent = fileTypeErr.join('\\r\\n'))\n              : (!input.dataset.formSubmitRequired || !required) &&\n                  files.length > 0 &&\n                  fileTypeErr.length > 0\n                ? (inputErrorField.textContent = fileTypeErr.join('\\r\\n'))\n                : (inputErrorField.textContent = '');\n        } else {\n          throw new Error(`Error initializing error message value for Input Name: ${input.name}`);\n        }\n        if (fileTypeErr.length > 0) input.value = '';\n      }\n      inputErrorField.textContent === '' && inputErrorField.remove();\n    }\n  }\n  if (cb) {\n    if (files) {\n      return (input.dataset.formSubmitRequired || required) && files.length === 0\n        ? false\n        : (input.dataset.formSubmitRequired || required) &&\n            files.length > 0 &&\n            !regexCheck.includes(false)\n          ? false\n          : !input.dataset.formSubmitRequired &&\n              !required &&\n              files.length > 0 &&\n              !regexCheck.includes(false)\n            ? false\n            : true;\n    }\n  }\n};\n//Based on input type, limits what keys are allowed\nconst handleInputKeys: EventListenerOrEventListenerObject = (evt) => {\n  const { key, target } = evt as KeyboardEvent; //get the key code from the event\n  if (!target) return;\n  if (target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement) {\n    ///////Need to write code to handle copy and paste shortcuts\n    const type = resolveType(target); //sets the input type\n    if (!inputTypes[type].keys.test(key)) {\n      evt.preventDefault();\n    } //passes key code through regex of allowed keys, if not allowed, no action is taken\n  }\n};\n//If there is no client side error field, create one and add as a sibling to input\nconst appendErrEl = (el: FormInput | HTMLFormElement | HTMLElement, isRadioCheckbox?: boolean) => {\n  const div = document.createElement('div'); //Create a div element\n  div.classList.add('attention-text'); //applies class to div element\n  !isRadioCheckbox ? el.insertAdjacentElement('afterend', div) : el.appendChild(div); //places the div element next to its respective input\n};\n//Counts all inputs on load and compares count on final to protect against injection\nconst addCounter = () => Counter.init++;\n//Add Multiple event listeners with 1 call\nconst addMultipleEventListeners = (el: HTMLElement | FormInput, eTypes: Array<string>) => {\n  eTypes.forEach((eType) => {\n    el.addEventListener(eType, inputEventHandler);\n  });\n};\nconst removeAllEventListeners = (input: FormInput) => {\n  const events = ['keydown', 'input', 'change', 'blur'];\n  const handlers = [handleInputKeys, inputEventHandler];\n  for (let i = 0; i < events.length; i++) {\n    for (let j = 0; j < handlers.length; j++) {\n      input.removeEventListener(events[i], handlers[j]);\n    }\n  }\n};\n\n//Initialization Functions\nexport const initialize = () => {\n  const forms = document.querySelectorAll('form'); //select all forms on the page\n  forms.forEach((form) => {\n    const inputs: FormInput[] = Array.from(\n      form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    for (let i = 0; i < inputs.length; i++) {\n      addCounter();\n    }\n    inputs.forEach((input: FormInput) => {\n      const resolvedType = resolveType(input); //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n      if (\n        !['file', 'image', 'hidden', 'select-one', 'select-multiple', 'radio', 'checkbox'].includes(\n          resolvedType,\n        )\n      ) {\n        !(input instanceof HTMLSelectElement) &&\n          !input.placeholder &&\n          (input.placeholder = inputPlaceholder[resolvedType]); //defaults to native placeholder value over store placeholder\n        if (resolvedType === 'ssn') input.setAttribute('type', 'password'); //add native html type to mask enter values on ssn fields\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n        input.addEventListener('keydown', handleInputKeys);\n      }\n      if (['file', 'image'].includes(resolvedType)) {\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n      }\n      if (['select-one', 'select-multiple'].includes(resolvedType)) {\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n      }\n      if (resolvedType === 'radio') {\n        input.addEventListener('change', controlRadios); //Forces only 1 radio selection, checkboxes should be used for multiselect\n        addMultipleEventListeners(input, ['input', 'blur']);\n      }\n      if (resolvedType === 'checkbox') {\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n      }\n    });\n    form.addEventListener('submit', handleFormSubmit);\n  });\n};\nexport const reinitialize = () => {\n  Counter.init = 0;\n  const forms = document.querySelectorAll('form');\n  forms.forEach((form) => {\n    const inputs: FormInput[] = Array.from(\n      form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    inputs.forEach((input) => removeAllEventListeners(input));\n    form.removeEventListener('submit', handleFormSubmit);\n  });\n  initialize();\n};\n","// mdEditor main.js\nimport { initialize, reinitialize, isValid, checkAllValidity } from './functions';\nexport async function init(): Promise<void> {\n  try {\n    // Wait for the DOMContentLoaded event before executing further\n    await new Promise<void>((resolve) => {\n      if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => resolve());\n      } else {\n        resolve();\n      }\n    });\n    initialize();\n  } catch (error: any) {\n    throw new Error(`${error.message}\\r\\nFailed to initialize mark down editor.`);\n  }\n}\n\n// Call the init function immediately when the module is imported\ninit();\n\n// Make functions available in the global scope for the browser console\n(window as any).isValid = isValid;\n(window as any).checkAllValidity = checkAllValidity;\n(window as any).reinitialize = reinitialize;\n"],"names":[],"mappings":"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"}