"use strict";const e=".error",t={color:"#000000",date:"yyyy-mm-dd","datetime-local":"yyyy-mm-ddThh:mm",email:"user@domain.com",file:"",image:"",month:"yyyy-mm",number:"0",password:"",range:"0",search:"Begin searching...",tel:"(000)000-0000",time:"hh:mm",url:"https://www.domain.com/",week:"yyyy-W00",text:"",radio:"",checkbox:"",hidden:"","select-one":"Choose an option...","select-multiple":"Choose multiple...",textarea:"Begin typing...",alpha:"Enter alpha characters only...",int:"0",float:"0.0",currency:"0.00",zipcode:"00000",zip:"00000",zip4:"0000",zipfull:"00000-0000",urlhttp:"https://www.domain.com/",urlpart:"path/to/resource.txt",hostname:"www.domain.com",domain:"domain.com",ip:"0.0.0.0",timestamp:"mm/dd/yyyy hh:mm:ss.ms",datemmddyyyy:"mm/dd/yyyy",dateyyyymmdd:"yyyy-mm-dd",routing:"000000000",cc:"0000 0000 0000 0000",cvv:"000 or 0000",ssn:"000-00-0000",parcel:"00-000-00-00-000.00 00"},r={color:{keys:/[0-9]|#|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^#([0-9a-fA-F]{6})$/,error:"Please select a valid color."},date:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4}-\d{2}-\d{2}$/,error:`Please enter a valid date (${t.date}).`},"datetime-local":{keys:/[0-9]|[T]|:|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^([0-9]{4})\-(1[0-2]|0[0-9])\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])T(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,error:`Please enter a valid timestamp (${t["datetime-local"]}).`},email:{keys:/[a-zA-Z0-9.!#$%&'*+_\/=?^\-`\{\|\}"\(\),:'<>@\[\]\\]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,error:`Please enter a valid email (${t.email}).`},file:{keys:/./,value:/^(.*)\.[\w+|\d+|\W+]{0,5}$/,error:"Please choose a valid file."},image:{keys:/./,value:/.+/,error:"Please choose a valid image."},month:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4}-\d{2}$/,error:`Please enter a valid month (${t.month}).`},number:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+$/,error:"Please enter a valid number."},password:{keys:/[a-zA-Z0-9!"#$%&'()*+,-./:;<=>?@\[\]\\\^_`\{\|\}~]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/./,error:"Please enter a valid password."},range:{keys:/[0-9]/,value:/\d+/,error:"Please select a valid value."},search:{keys:/./,value:/.+/,error:"Please enter a valid search string."},tel:{keys:/[0-9\-()]|Tab|Backspace/,value:/^((\+\d{1,2}\s?)?1?-?\.?\s?\(?\d{3}\)?[\s.-]?)?\d{3}[\s.-]?\d{4}$/,error:`Please enter a valid telephone number i.e. ${t.tel}.`},time:{keys:/[0-9]|:|Tab|Backspace/,value:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,error:`Please enter a valid time (${t.time}).`},url:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(https?):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]\b/,error:`Please enter a valid URL (${t.url}).`},week:{keys:/[0-9]|-|W|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4}-W\d{2}$/,error:`Please enter a valid week (${t.week}).`},text:{keys:/./,value:/.+/,error:"Please enter valid text only."},radio:{keys:/./,value:/.+/,error:"Please select an option."},checkbox:{keys:/./,value:/.+/,error:"Please select an option"},hidden:{keys:/./,value:/.+/,error:""},"select-one":{keys:/./,value:/.+/,error:"Please make a valid selection from the dropdown."},"select-multiple":{keys:/./,value:/.+/,error:"Please make valid selections."},textarea:{keys:/./,value:/.+/,error:"Please enter valid text."},alpha:{keys:/[a-z]|[A-Z]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\w+$/,error:"Please enter valid text only."},int:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+$/,error:`Please enter a valid whole number (${t.int}).`},float:{keys:/[0-9]|\.|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+\.{1}\d+$/,error:`Please enter a valid decimal number (${t.float}).`},currency:{keys:/[0-9]|\.|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d+\.{1}\d{2}$/,error:`Please enter a valid currency value (${t.currency}).`},zipcode:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{5}$/,error:`Please enter a valid zipcode (${t.zipcode}).`},zip:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{5}$/,error:`Please enter a valid zipcode (${t.zip}).`},zip4:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{4}$/,error:`Please enter a valid zipcode (${t.zip4}).`},zipfull:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^[0-9]{5}-[0-9]{4}$/,error:`Please enter a valid zipcode (${t.zipfull}).`},urlhttp:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(https?):\/\/(\w|\d){3}\.(\w+|\d+)\.(\w|\d){3}\/\b/,error:`Please enter a valid full URL (${t.urlhttp}).`},urlpart:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b[\w+|\d+|\W+\/]*\.[\w+|\d+|\W+]{0,5}\b/,error:`Please enter a valid partial url (${t.urlpart}).`},hostname:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(.){1,}\.(\w+|\d+)\.(.){3}\b/,error:`Please enter a valid hostname (${t.hostname}).`},domain:{keys:/[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/\b(\w+|\d+)\.(.){3}\b/,error:`Please enter a valid domain name (${t.domain}).`},ip:{keys:/[0-9]|\.|Tab|Backspace/,value:/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,error:`Please enter a valid IP address (${t.ip}).`},timestamp:{keys:/[0-9]|\/|:|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^(1[0-2]|0[0-9])\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\/([0-9]{4})\s(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])[\.][0-9]{3}$/,error:`Please enter a valid timestamp value (${t.timestamp}).`},datemmddyyyy:{keys:/[0-9]|\/|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^(1[0-2]|0[0-9])\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\/([0-9]{4})$/,error:`Please enter a valid date (${t.datemmddyyyy}).`},dateyyyymmdd:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^([0-9]{4})\-(1[0-2]|0[0-9])\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])$/,error:`Please enter a valid date (${t.dateyyyymmdd}).`},routing:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{9}$/,error:`Please enter a valid ABA Routing number (${t.routing}).`},cc:{keys:/[0-9]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{4} \d{4} \d{4} \d{4}$/,error:`Please enter a valid credit card number (${t.cc}).`},cvv:{keys:/[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{3,4}$/,error:`Please enter a valid CVV (${t.cvv}).`},ssn:{keys:/[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{3}-\d{2}-\d{4}$/,error:`Please enter a valid SSN (${t.ssn}).`},parcel:{keys:/[0-9]|-|\.|Space|Tab|Backspace|ArrowLeft|ArrowRight/,value:/^\d{2}-\d{3}-\d{2}-\d{2}-\d{3}\.\d{2}\s{1}\d{2}$/,error:`Please enter a valid parcel number (${t.parcel})`}},a={init:0,final:0},o=e=>{if(a.final=0,e.target){const t=Array.from(e.target.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea"));t.forEach((e=>e.value&&(e.value=e.value.trim()))),document.querySelectorAll("form").forEach((e=>{a.final+=e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea").length})),t.filter((e=>!n(e))).length>0&&a.init===a.final&&e.preventDefault()}},n=e=>{const t=e.tagName.toLowerCase();if("true"===(e.dataset.type||e.type).toLowerCase()||(e.dataset.type||e.type).toLowerCase(),e instanceof HTMLFormElement){const t=Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea"));let r=!0;return t.forEach((e=>{const{required:t,name:a}=e,o=l(e),i=n(e);i?console.log(`Input Name: ${a}\r\nInput Type: ${o}\r\nRequired: ${t}\r\nisValid: ${n} \r\nDepricated form-submit-required: ${e.dataset.formSubmitRequired}`):console.error(`Input Name: ${a}\r\nInput Type: ${o}\r\nRequired: ${t}\r\nisValid: ${n} \r\nDepricated form-submit-required: ${e.dataset.formSubmitRequired}`),i||(r=!1)})),r}{const r=l(e);if(!r)throw new Error(`Invalid Element Type: ${t}\r\nValid input elements only`);return["select-one","select-multiple"].includes(r)?s(e,!0):["radio","checkbox"].includes(r)?d(e,!0):u(e,!0)}},l=e=>"true"===(e.dataset.formSubmitRequired||e.dataset.formSubmitOptional||e.dataset.type||e.type)?"text":e.dataset.formSubmitRequired||e.dataset.formSubmitOptional||e.dataset.type||e.type,i=e=>{const{target:t}=e;if(!t)throw new Error("No event target found");if(t instanceof HTMLSelectElement&&s(t),t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){const e=l(t);!["radio","checkbox"].includes(e)||t instanceof HTMLTextAreaElement||d(t),!["file","image"].includes(e)||t instanceof HTMLTextAreaElement||m(t),["file","image","hidden"].includes(e)||u(t)}},s=(t,a)=>{const{required:o,multiple:n}=t,i=t.selectedOptions,s=l(t),d=n?Array.from(i).map((e=>e.value)).join(","):i[0].value,c=!t.dataset.formSubmitRequired&&!o||!!d,u=t.parentNode;if(!c&&!a){if(!u)throw new Error(`Parent element not found for Input Name:${t.name}`);{u.querySelector(e)||y(t);const a=u.querySelector(e);a?a.textContent=t.dataset.formSubmitErrorMsg||t.dataset.error||r[s].error:console.warn(`Error message field not found for Input Name:${t.name}`)}const a=t.parentNode.querySelector(e);a?a.textContent=t.dataset.formSubmitErrorMsg||t.dataset.error||r[s].error:console.warn(`Error message field not found for Input Name:${t.name}`)}if(c&&!a&&u){const t=u.querySelector(e);t&&t.remove()}return c},d=(t,a)=>{const{type:o}=t.dataset||t;if(!o)throw new Error("Invalid HTML detected, type attribute required on input elements.");const n="form"!==t?.parentNode?.parentNode?.nodeName.toLowerCase()&&0!==t?.parentNode?.parentNode?.querySelectorAll(`input[type=${o}]`).length?t?.parentNode?.parentNode?.querySelectorAll(`input[type=${o}]`):t.parentNode.querySelectorAll(`input[type=${o}]`),l="form"!==t?.parentElement?.parentElement?.nodeName.toLowerCase()&&0!==t?.parentElement?.parentElement?.querySelectorAll(`input[type=${o}]`).length?t.parentElement?.parentElement:t.parentElement;if(n&&l){const i=!!!Array.from(n).find((e=>e.dataset.formSubmitRequired||e.required))||Array.from(n).filter((e=>!0===e.checked)).length>0;if(!i&&!a){l.querySelector(e)||y(l,!0);const a=l.querySelector(e);a?a.textContent=t.dataset.formSubmitErrorMsg||t.dataset.error||r[o].error:console.warn(`Error message field not found for Input Name:${t.name}`)}if(i&&!a){const t=l.querySelector(e);t&&t.remove()}return i}throw new Error(`Invalid html formatting at InputName: ${t.name}. Radios/checkboxes must be correctly wrapped with <label> and a container element.\r\n\n      I.E. <div>\r\n\t<div>\r\n\t\t<input type="checkbox/radio"/>\r\n\t\t<label>Label Text</label>\r\n\t</div>\r\n\t<div>\r\n\t\t<input type="checkbox/radio"/>\r\n\t\t<label>Label Text</label>\r\n\t</div>\r\n</div>`)},c=e=>{const t=e instanceof Event?e.target:e,r="form"!==t?.parentNode?.parentNode?.nodeName.toLowerCase()&&0!==t?.parentNode?.parentNode?.querySelectorAll("input[type=radio]").length?t.parentNode?.parentNode?.querySelectorAll("input[type=radio]"):t.parentNode.querySelectorAll("input[type=radio]");r&&Array.from(r).filter((e=>e!==t)).forEach((e=>e.checked=!1))},u=(t,a)=>{const o=l(t),n=0===t.value.trim().length,{required:i}=t;if(!a){const a=t.parentNode;if(!a)throw new Error(`Parent element not found for Input Name:${t.name}`);if(a){a.querySelector(e)||y(t);const l=a.querySelector(e);if(!l)throw new Error(`Error initializing error field for Input Name: ${t.name}`);{const{error:e}=t.dataset||r[o];if(!e)throw new Error(`Error initializing error message value for Input Name: ${t.name}`);(t.dataset.formSubmitRequired||i)&&n?l.textContent=t.dataset.formSubmitErrorMsg||e:(!t.dataset.formSubmitRequired&&!i||n||r[o].value.test(t.value))&&(t.dataset.formSubmitRequired||i||n||r[o].value.test(t.value))?l.textContent="":l.textContent=t.dataset.formSubmitErrorMsg||e,""===l.textContent&&l.remove()}}}return(!t.dataset.formSubmitRequired&&!i||!n)&&(!((t.dataset.formSubmitRequired||i)&&!n&&!r[o].value.test(t.value))&&!!(t.dataset.formSubmitRequired||i||n||r[o].value.test(t.value)))},m=(t,a)=>{const{type:o,accept:n,required:l,files:i}=t;if("file"!==o)throw new Error("Invalid input type");if(!n)throw new Error("Missing accept attribute on file input element. Set accept to '*' to allow all file types.");const s=n.split(",").map((e=>e.trim())),d=[];if(!a){const a=t.parentNode;if(!a)throw new Error(`Parent element not found for Input Name:${t.name}`);a.querySelector(e)||y(t);const o=a.querySelector(e);if(!o)throw new Error(`Error initializing error field for Input Name: ${t.name}`);const{error:n}=t.dataset||r.file;if(i){if(i.length>0){const e=[];for(const t of Array.from(i)){const{name:a,type:o}=t;!("*"===s[0]||s.some((e=>e.endsWith("/*")?o.startsWith(e.slice(0,-2)):o.includes(e.replace(".","")))))&&e.push(`${a} - Invalid file type, ${o.toLowerCase()}.`),d.push(r.file.value.test(a))}if(!n)throw new Error(`Error initializing error message value for Input Name: ${t.name}`);(t.dataset.formSubmitRequired||l)&&0===i.length?o.textContent=n:(t.dataset.formSubmitRequired||l)&&i.length>0&&e.length>0||(!t.dataset.formSubmitRequired||!l)&&i.length>0&&e.length>0?o.textContent=e.join("\r\n"):o.textContent="",e.length>0&&(t.value="")}""===o.textContent&&o.remove()}}if(a&&i)return(!t.dataset.formSubmitRequired&&!l||0!==i.length)&&(!((t.dataset.formSubmitRequired||l)&&i.length>0&&!d.includes(!1))&&!(!t.dataset.formSubmitRequired&&!l&&i.length>0&&!d.includes(!1)))},p=e=>{const{key:t,target:a}=e;if(a&&(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)){const o=l(a);r[o].keys.test(t)||e.preventDefault()}},y=(e,t)=>{const r=document.createElement("div");r.classList.add("attention-text"),t?e.appendChild(r):e.insertAdjacentElement("afterend",r)},f=(e,t)=>{t.forEach((t=>{e.addEventListener(t,i)}))},h=()=>{document.querySelectorAll("form").forEach((e=>{const r=Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea"));for(let e=0;e<r.length;e++)a.init++;r.forEach((e=>{const r=l(e);["file","image","hidden","select-one","select-multiple","radio","checkbox"].includes(r)||(!(e instanceof HTMLSelectElement)&&!e.placeholder&&(e.placeholder=t[r]),"ssn"===r&&e.setAttribute("type","password"),f(e,["input","change","blur"]),e.addEventListener("keydown",p)),["file","image"].includes(r)&&f(e,["input","change","blur"]),["select-one","select-multiple"].includes(r)&&f(e,["input","change","blur"]),"radio"===r&&(e.addEventListener("change",c),f(e,["input","blur"])),"checkbox"===r&&f(e,["input","change","blur"])})),e.addEventListener("submit",o)}))};async function v(){try{await new Promise((e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()})),h()}catch(e){throw new Error(`${e.message}\r\nFailed to initialize mark down editor.`)}}v(),window.isValid=n,window.checkAllValidity=()=>{const e=document.querySelectorAll("form"),t=[],a=[];e.forEach((e=>{Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea")).forEach((e=>{const o=l(e);r[o].value.test(e.value)?t.push(e):a.push(e)}))})),console.group("Valid Inputs:"),t.forEach((e=>console.info(e,e.value))),console.groupEnd(),console.group("Invalid Inputs:"),a.forEach((e=>console.error(e,e.value))),console.groupEnd()},window.reinitialize=()=>{a.init=0;document.querySelectorAll("form").forEach((e=>{Array.from(e.querySelectorAll("input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea")).forEach((e=>(e=>{const t=["keydown","input","change","blur"],r=[p,i];for(let a=0;a<t.length;a++)for(let o=0;o<r.length;o++)e.removeEventListener(t[a],r[o])})(e))),e.removeEventListener("submit",o)})),h()},exports.init=v;
//# sourceMappingURL=formSubmit.min.js.map
