{"version":3,"file":"formSubmit.js","sources":["../../src/store.ts","../../src/functions.ts","../../src/index.ts"],"sourcesContent":["import { InputControlObject, PlaceholderObject } from './types';\n\nexport const errClassSelector = '.error';\nexport const inputPlaceholder: PlaceholderObject = {\n  //native html input types except for 'button', 'reset', 'submit'\n  color: '#000000',\n  date: 'yyyy-mm-dd',\n  'datetime-local': 'yyyy-mm-ddThh:mm',\n  email: 'user@domain.com',\n  file: '',\n  image: '',\n  month: 'yyyy-mm',\n  number: '0',\n  password: '',\n  range: '0',\n  search: 'Begin searching...',\n  tel: '(000)000-0000',\n  time: 'hh:mm',\n  url: 'https://www.domain.com/',\n  week: 'yyyy-W00',\n  text: '',\n  radio: '',\n  checkbox: '',\n  hidden: '',\n  'select-one': 'Choose an option...',\n  'select-multiple': 'Choose multiple...',\n  textarea: 'Begin typing...',\n  //custom types define by 'data-type=\"\"'\n  alpha: 'Enter alpha characters only...',\n  int: '0',\n  float: '0.0',\n  currency: '0.00',\n  zipcode: '00000',\n  zip: '00000',\n  zip4: '0000',\n  zipfull: '00000-0000',\n  urlhttp: 'https://www.domain.com/',\n  urlpart: 'path/to/resource.txt',\n  hostname: 'www.domain.com',\n  domain: 'domain.com',\n  ip: '0.0.0.0',\n  timestamp: 'mm/dd/yyyy hh:mm:ss.ms',\n  datemmddyyyy: 'mm/dd/yyyy',\n  dateyyyymmdd: 'yyyy-mm-dd',\n  routing: '000000000',\n  cc: '0000 0000 0000 0000',\n  cvv: '000 or 0000',\n  ssn: '000-00-0000',\n  parcel: '00-000-00-00-000.00 00',\n};\nexport const inputTypes: InputControlObject = {\n  //native html input types except for 'button', 'reset', 'submit'\n  /*\n    'type attribute name': {\n      keys: regex value for allowed keys,\n      value: regex value for allowed value format\n      error: default error message\n    },\n    */\n  color: {\n    keys: /[0-9]|#|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^#([0-9a-fA-F]{6})$/,\n    error: 'Please select a valid color.',\n  },\n  date: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4}-\\d{2}-\\d{2}$/,\n    error: `Please enter a valid date (${inputPlaceholder.date}).`,\n  },\n  'datetime-local': {\n    keys: /[0-9]|[T]|:|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value:\n      /^([0-9]{4})\\-(1[0-2]|0[0-9])\\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])T(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,\n    error: `Please enter a valid timestamp (${inputPlaceholder['datetime-local']}).`,\n  },\n  email: {\n    keys: /[a-zA-Z0-9.!#$%&'*+_\\/=?^\\-`\\{\\|\\}\"\\(\\),:'<>@\\[\\]\\\\]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n    error: `Please enter a valid email (${inputPlaceholder.email}).`,\n  },\n  file: {\n    keys: /./,\n    value: /^(.*)\\.[\\w+|\\d+|\\W+]{0,5}$/,\n    error: 'Please choose a valid file.',\n  },\n  image: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please choose a valid image.',\n  },\n  month: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4}-\\d{2}$/,\n    error: `Please enter a valid month (${inputPlaceholder.month}).`,\n  },\n  number: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+$/,\n    error: 'Please enter a valid number.',\n  },\n  password: {\n    keys: /[a-zA-Z0-9!\"#$%&'()*+,-./:;<=>?@\\[\\]\\\\\\^_`\\{\\|\\}~]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /./,\n    // Allow all for now, can be set to require special characters and minimum length with,\n    // note for this regex, testing against it should fail for a valid value as it is looking\n    // for the missing requirements to make for a shorter regex (1 upper, 1 lower, 1 special, at least 8 char long)\n    // /^(.{0,7}|[^0-9]*|[^A-Z]*|[^a-z]*|[a-zA-Z0-9]*)$/\n    error: 'Please enter a valid password.',\n  },\n  range: {\n    keys: /[0-9]/,\n    value: /\\d+/,\n    error: 'Please select a valid value.',\n  },\n  search: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please enter a valid search string.',\n  },\n  tel: {\n    keys: /[0-9\\-()]|Tab|Backspace/,\n    value: /^((\\+\\d{1,2}\\s?)?1?-?\\.?\\s?\\(?\\d{3}\\)?[\\s.-]?)?\\d{3}[\\s.-]?\\d{4}$/,\n    error: `Please enter a valid telephone number i.e. ${inputPlaceholder.tel}.`,\n  },\n  time: {\n    keys: /[0-9]|:|Tab|Backspace/,\n    value: /^(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/,\n    error: `Please enter a valid time (${inputPlaceholder.time}).`,\n  },\n  url: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(https?):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]\\b/,\n    error: `Please enter a valid URL (${inputPlaceholder.url}).`,\n  },\n  week: {\n    keys: /[0-9]|-|W|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4}-W\\d{2}$/,\n    error: `Please enter a valid week (${inputPlaceholder.week}).`,\n  },\n  text: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please enter valid text only.',\n  },\n  radio: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please select an option.',\n  },\n  checkbox: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please select an option',\n  },\n  hidden: {\n    keys: /./,\n    value: /.+/,\n    error: '',\n  },\n  'select-one': {\n    keys: /./,\n    value: /.+/,\n    error: 'Please make a valid selection from the dropdown.',\n  },\n  'select-multiple': {\n    keys: /./,\n    value: /.+/,\n    error: 'Please make valid selections.',\n  },\n  textarea: {\n    keys: /./,\n    value: /.+/,\n    error: 'Please enter valid text.',\n  },\n  //custom types define by 'data-type=\"\"' attribute\n  alpha: {\n    keys: /[a-z]|[A-Z]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\w+$/,\n    error: 'Please enter valid text only.',\n  },\n  int: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+$/,\n    error: `Please enter a valid whole number (${inputPlaceholder.int}).`,\n  },\n  float: {\n    keys: /[0-9]|\\.|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+\\.{1}\\d+$/,\n    error: `Please enter a valid decimal number (${inputPlaceholder.float}).`,\n  },\n  currency: {\n    keys: /[0-9]|\\.|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d+\\.{1}\\d{2}$/,\n    error: `Please enter a valid currency value (${inputPlaceholder.currency}).`,\n  },\n  zipcode: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{5}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zipcode}).`,\n  },\n  zip: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{5}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zip}).`,\n  },\n  zip4: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{4}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zip4}).`,\n  },\n  zipfull: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^[0-9]{5}-[0-9]{4}$/,\n    error: `Please enter a valid zipcode (${inputPlaceholder.zipfull}).`,\n  },\n  urlhttp: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(https?):\\/\\/(\\w|\\d){3}\\.(\\w+|\\d+)\\.(\\w|\\d){3}\\/\\b/,\n    error: `Please enter a valid full URL (${inputPlaceholder.urlhttp}).`,\n  },\n  urlpart: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b[\\w+|\\d+|\\W+\\/]*\\.[\\w+|\\d+|\\W+]{0,5}\\b/,\n    error: `Please enter a valid partial url (${inputPlaceholder.urlpart}).`,\n  },\n  hostname: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(.){1,}\\.(\\w+|\\d+)\\.(.){3}\\b/,\n    error: `Please enter a valid hostname (${inputPlaceholder.hostname}).`,\n  },\n  domain: {\n    keys: /[a-zA-Z0-9.;,/?:@&=+$-_!~*'()#]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /\\b(\\w+|\\d+)\\.(.){3}\\b/,\n    error: `Please enter a valid domain name (${inputPlaceholder.domain}).`,\n  },\n  ip: {\n    keys: /[0-9]|\\.|Tab|Backspace/,\n    value: /^(?!0)(?!.*\\.$)((1?\\d?\\d|25[0-5]|2[0-4]\\d)(\\.|$)){4}$/,\n    error: `Please enter a valid IP address (${inputPlaceholder.ip}).`,\n  },\n  timestamp: {\n    keys: /[0-9]|\\/|:|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value:\n      /^(1[0-2]|0[0-9])\\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\\/([0-9]{4})\\s(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])[\\.][0-9]{3}$/,\n    error: `Please enter a valid timestamp value (${inputPlaceholder.timestamp}).`,\n  },\n  datemmddyyyy: {\n    keys: /[0-9]|\\/|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^(1[0-2]|0[0-9])\\/(0[0-9]|1[0-9]|2[0-9]|3[0-1])\\/([0-9]{4})$/,\n    error: `Please enter a valid date (${inputPlaceholder.datemmddyyyy}).`,\n  },\n  dateyyyymmdd: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^([0-9]{4})\\-(1[0-2]|0[0-9])\\-(0[0-9]|1[0-9]|2[0-9]|3[0-1])$/,\n    error: `Please enter a valid date (${inputPlaceholder.dateyyyymmdd}).`,\n  },\n  routing: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{9}$/,\n    error: `Please enter a valid ABA Routing number (${inputPlaceholder.routing}).`,\n  },\n  cc: {\n    keys: /[0-9]|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{4} \\d{4} \\d{4} \\d{4}$/,\n    error: `Please enter a valid credit card number (${inputPlaceholder.cc}).`,\n  },\n  cvv: {\n    keys: /[0-9]|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{3,4}$/,\n    error: `Please enter a valid CVV (${inputPlaceholder.cvv}).`,\n  },\n  ssn: {\n    keys: /[0-9]|-|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{3}-\\d{2}-\\d{4}$/,\n    error: `Please enter a valid SSN (${inputPlaceholder.ssn}).`,\n  },\n  parcel: {\n    keys: /[0-9]|-|\\.|Space|Tab|Backspace|ArrowLeft|ArrowRight/,\n    value: /^\\d{2}-\\d{3}-\\d{2}-\\d{2}-\\d{3}\\.\\d{2}\\s{1}\\d{2}$/,\n    error: `Please enter a valid parcel number (${inputPlaceholder.parcel})`,\n  },\n};\nexport const Counter = {\n  init: 0,\n  final: 0,\n};\n","import { Counter, errClassSelector, inputPlaceholder, inputTypes } from './store';\nimport { FormInput, FormInputEvent } from './types';\nconst handleFormSubmit = (ev: SubmitEvent) => {\n  Counter.final = 0; //reset count\n  if (ev.target) {\n    const inputs: FormInput[] = Array.from(\n      (ev.target as HTMLFormElement).querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    ); //selects all form input elements\n    inputs.forEach((input: FormInput) => input.value && (input.value = input.value.trim())); //Trims leading and trailing spaces\n    document.querySelectorAll('form').forEach((form) => {\n      Counter.final += form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ).length;\n    });\n    inputs.filter((input: FormInput) => !isValid(input)).length > 0 &&\n    Counter.init === Counter.final\n      ? ev.preventDefault()\n      : null;\n  }\n};\nexport const isValid = (el: FormInput | HTMLFormElement): boolean => {\n  const tag = el.tagName.toLowerCase();\n  const type =\n    (el.dataset.type || el.type).toLowerCase() === 'true'\n      ? 'text'\n      : (el.dataset.type || el.type).toLowerCase();\n  if (el instanceof HTMLFormElement) {\n    //Allows for passing in an entire FORM tag and validating all inputs where as checkAllValidity checks all forms on the page\n    const inputs: FormInput[] = Array.from(\n      el.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    let isFormValid = true;\n    inputs.forEach((input) => {\n      const { required, name } = input;\n      const isValidInput = isValid(input);\n      isValidInput\n        ? console.log(\n            `Input Name: ${name}\\r\\nInput Type: ${type}\\r\\nRequired: ${required}\\r\\nisValid: ${isValid}`,\n          )\n        : console.error(\n            `Input Name: ${name}\\r\\nInput Type: ${type}\\r\\nRequired: ${required}\\r\\nisValid: ${isValid}`,\n          );\n      if (!isValidInput) isFormValid = false;\n    });\n    return isFormValid;\n  } else {\n    if (!type) {\n      throw new Error(`Invalid Element Type: ${tag}\\r\\nValid input elements only`);\n    }\n    return ['select-one', 'select-multiple'].includes(type)\n      ? handleSelect(el as HTMLSelectElement, true)\n      : ['radio', 'checkbox'].includes(type)\n        ? handleRadiosCheckboxes(el as HTMLInputElement, true)\n        : handleInput(el as HTMLInputElement, true);\n  }\n};\n\nexport const checkAllValidity = () => {\n  const forms = document.querySelectorAll('form');\n  const validInputs: FormInput[] = [];\n  const invalidInputs: FormInput[] = [];\n  forms.forEach((form) => {\n    const inputs: FormInput[] = Array.from(\n      form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    inputs.forEach((input) => {\n      const { type, dataset } = input;\n      const { type: dataType } = dataset;\n      const resolvedType =\n        (dataType || type).toLowerCase() === 'true' ? 'text' : (dataType || type).toLowerCase();\n      inputTypes[resolvedType].value.test(input.value)\n        ? validInputs.push(input)\n        : invalidInputs.push(input);\n    });\n  });\n  console.group('Valid Inputs:');\n  validInputs.forEach((el) => console.info(el, el.value));\n  console.groupEnd();\n  console.group('Invalid Inputs:');\n  invalidInputs.forEach((el) => console.error(el, el.value));\n  console.groupEnd();\n  return;\n};\nconst inputEventHandler: EventListenerOrEventListenerObject = (ev: FormInputEvent) => {\n  const { target } = ev;\n  if (target) {\n    if (target instanceof HTMLSelectElement) handleSelect(target);\n    if (target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement) {\n      const { type, dataset } = target;\n      const { type: dataType } = dataset;\n      const resolvedType =\n        (dataType || type) === 'true'\n          ? (dataType || type).toLowerCase()\n          : (dataType || type).toLowerCase();\n      if (\n        ['radio', 'checkbox'].includes(resolvedType) &&\n        !(target instanceof HTMLTextAreaElement)\n      ) {\n        handleRadiosCheckboxes(target);\n      }\n      if (['file', 'image'].includes(resolvedType) && !(target instanceof HTMLTextAreaElement))\n        handleFileInput(target);\n      if (!['file', 'image', 'hidden'].includes(resolvedType)) handleInput(target);\n    }\n  } else {\n    throw new Error('No event target found');\n  }\n};\nconst handleSelect = (input: HTMLSelectElement, cb?: (() => void) | boolean) => {\n  const { required, multiple } = input;\n  const selections = input.selectedOptions;\n  const type = input.dataset.type || input.type || multiple ? 'select-multiple' : 'select-one'; //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n  const val = multiple\n    ? Array.from(selections)\n        .map((selection) => selection.value)\n        .join(',')\n    : selections[0].value;\n  const valid = required ? (val ? true : false) : true;\n  const parent = input.parentNode;\n  if (!valid && !cb) {\n    if (parent) {\n      if (!parent.querySelector(errClassSelector)) {\n        appendErrEl(input);\n      } //if there is no error message field, create it\n      const inputErrorField = parent.querySelector(errClassSelector); //finds to appropriate error field\n      if (inputErrorField) {\n        inputErrorField.textContent = input.dataset.error || inputTypes[type].error;\n      } else {\n        console.warn(`Error message field not found for Input Name:${input.name}`);\n      }\n    } else {\n      throw new Error(`Parent element not found for Input Name:${input.name}`);\n    }\n    const inputErrorField = input.parentNode.querySelector(errClassSelector); //finds to appropriate error field\n    if (inputErrorField) {\n      inputErrorField.textContent = input.dataset.error || inputTypes[type].error;\n    } else {\n      console.warn(`Error message field not found for Input Name:${input.name}`);\n    }\n  }\n  if (valid && !cb) {\n    if (parent) {\n      const errFld = parent.querySelector(errClassSelector);\n      if (errFld) {\n        errFld.remove();\n      } //Remove the error field if there is no error, reduces impact to CSS\n    }\n  }\n  if (cb) return valid;\n  return valid;\n};\n//Each radio/checkbox and its label should be wrapped in an element for ADA compliance i.e. <div><radio/><radio/></div>\nconst handleRadiosCheckboxes = (input: HTMLInputElement, cb?: (() => void) | boolean) => {\n  const { type } = input.dataset || input; //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n  if (!type) throw new Error('Invalid HTML detected, type attribute required on input elements.');\n  //checked for radios contained in 1 element or contained in multiple wrapping elements\n  const controlGroup: NodeListOf<HTMLInputElement> | undefined =\n    input?.parentNode?.parentNode?.nodeName.toLowerCase() !== 'form' &&\n    input?.parentNode?.parentNode?.querySelectorAll(`input[type=${type}]`).length !== 0\n      ? input?.parentNode?.parentNode?.querySelectorAll(`input[type=${type}]`)\n      : input.parentNode.querySelectorAll(`input[type=${type}]`);\n  const container =\n    input?.parentElement?.parentElement?.nodeName.toLowerCase() !== 'form' &&\n    input?.parentElement?.parentElement?.querySelectorAll(`input[type=${type}]`).length !== 0\n      ? input.parentElement?.parentElement\n      : input.parentElement;\n  if (controlGroup && container) {\n    const isRequired = Array.from(controlGroup).find((el) => el.required) ? true : false; //Checks if any of the group has a required attribute\n    const valid = isRequired\n      ? Array.from(controlGroup).filter((el) => el.checked === true).length > 0\n        ? true\n        : false\n      : true; //if required is present on any element in the group, check that a selection is made\n    if (!valid && !cb) {\n      if (!container.querySelector(errClassSelector)) {\n        appendErrEl(container, true);\n      }\n      const inputErrorField = container.querySelector(errClassSelector);\n      if (inputErrorField) {\n        inputErrorField.textContent = input.dataset.error || inputTypes[type].error;\n      } else {\n        console.warn(`Error message field not found for Input Name:${input.name}`);\n      }\n    }\n    if (valid && !cb) {\n      const inputErrorField = container.querySelector(errClassSelector);\n      if (inputErrorField) {\n        inputErrorField.remove();\n      } //Remove the error field if there is no error, reduces impact to CSS\n    }\n    if (cb) return valid;\n    return valid;\n  } else {\n    throw new Error(\n      `Invalid html formatting at InputName: ${input.name}. Radios/checkboxes must be correctly wrapped with <label> and a container element.\\r\\n\n      I.E. <div>\\r\\n\\t<div>\\r\\n\\t\\t<input type=\"checkbox/radio\"/>\\r\\n\\t\\t<label>Label Text</label>\\r\\n\\t</div>\\r\\n\\t<div>\\r\\n\\t\\t<input type=\"checkbox/radio\"/>\\r\\n\\t\\t<label>Label Text</label>\\r\\n\\t</div>\\r\\n</div>`,\n    );\n  }\n};\n//Locks radio groups to only 1 selection\nconst controlRadios = (e: HTMLInputElement | FormInputEvent) => {\n  const input = e instanceof Event ? (e.target as HTMLInputElement) : e; //allows for event driven and passing in entire elements\n  //checked for radios contained in 1 element or contained in multiple wrapping elements\n  const radioGroup: NodeListOf<HTMLInputElement> | undefined =\n    input?.parentNode?.parentNode?.nodeName.toLowerCase() !== 'form' &&\n    input?.parentNode?.parentNode?.querySelectorAll('input[type=radio]').length !== 0\n      ? input.parentNode?.parentNode?.querySelectorAll('input[type=radio]')\n      : input.parentNode.querySelectorAll('input[type=radio]');\n  //Forces only one radio selection for each group of radio buttons\n  if (radioGroup) {\n    Array.from(radioGroup)\n      .filter((el) => el !== input)\n      .forEach((el) => (el.checked = false));\n  }\n};\n//Validates against a regex for the input type, if it doesn't pass the check, returns the error message\nconst handleInput = (\n  input: HTMLInputElement | HTMLTextAreaElement,\n  cb?: (() => void) | boolean,\n) => {\n  const { type } = input.dataset || input;\n  const inputType = type === 'true' ? 'text' : input.dataset.type || input.type; //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n  const isNull = input.value.trim().length === 0; //Checks if a value was entered\n  const { required } = input;\n  if (!cb) {\n    const parent = input.parentNode;\n    if (!parent) throw new Error(`Parent element not found for Input Name:${input.name}`);\n    if (parent) {\n      if (!parent.querySelector(errClassSelector)) {\n        appendErrEl(input);\n      } //if there is no error message field, create it\n      const inputErrorField = parent.querySelector(errClassSelector); //finds to appropriate error field\n      if (inputErrorField) {\n        const { error: errMsg } = input.dataset || inputTypes[inputType];\n        if (errMsg) {\n          required && isNull\n            ? (inputErrorField.textContent = errMsg) //if required and has no value\n            : required && !isNull && !inputTypes[inputType].value.test(input.value)\n              ? (inputErrorField.textContent = errMsg) //if required and has an invalid value\n              : !required && !isNull && !inputTypes[inputType].value.test(input.value)\n                ? (inputErrorField.textContent = errMsg)\n                : (inputErrorField.textContent = ''); //if not required but has an invalid value\n          //Remove the error field if there is no error, reduces impact to CSS\n        } else {\n          throw new Error(`Error initializing error message value for Input Name: ${input.name}`);\n        }\n        if (inputErrorField.textContent === '') inputErrorField.remove();\n      } else {\n        throw new Error(`Error initializing error field for Input Name: ${input.name}`);\n      }\n    }\n  }\n  if (cb)\n    return required && isNull\n      ? false\n      : required && !isNull && !inputTypes[inputType].value.test(input.value)\n        ? false\n        : !required && !isNull && !inputTypes[inputType].value.test(input.value)\n          ? false\n          : true;\n  return required && isNull\n    ? false\n    : required && !isNull && !inputTypes[inputType].value.test(input.value)\n      ? false\n      : !required && !isNull && !inputTypes[inputType].value.test(input.value)\n        ? false\n        : true;\n};\nconst handleFileInput = (input: HTMLInputElement, cb?: (() => void) | boolean) => {\n  const { type, accept, required, files } = input;\n  if (type !== 'file') throw new Error(`Invalid input type`);\n  if (!accept)\n    throw new Error(\n      `Missing accept attribute on file input element. Set accept to '*' to allow all file types.`,\n    );\n  const acceptedTypes = accept.split(',').map((type) => type.trim());\n  const regexCheck = [];\n  if (!cb) {\n    const parent = input.parentNode;\n    if (!parent) throw new Error(`Parent element not found for Input Name:${input.name}`);\n    if (!parent.querySelector(errClassSelector)) {\n      appendErrEl(input);\n    } //if there is no error message field, create it\n    const inputErrorField = parent.querySelector(errClassSelector); //finds to appropriate error field\n    if (!inputErrorField)\n      throw new Error(`Error initializing error field for Input Name: ${input.name}`);\n    const { error: errMsg } = input.dataset || inputTypes.file;\n    if (files) {\n      if (files.length > 0) {\n        const fileTypeErr = [];\n        for (const file of Array.from(files)) {\n          const { name, type } = file;\n          const isValidType =\n            acceptedTypes[0] === '*'\n              ? true\n              : acceptedTypes.some((atype) =>\n                  atype.endsWith('/*')\n                    ? type.startsWith(atype.slice(0, -2))\n                    : type.includes(atype.replace('.', '')),\n                );\n          !isValidType && fileTypeErr.push(`${name} - Invalid file type, ${type.toLowerCase()}.`);\n          regexCheck.push(inputTypes.file.value.test(name));\n        }\n        if (errMsg) {\n          required && files.length === 0\n            ? (inputErrorField.textContent = errMsg)\n            : required && files.length > 0 && fileTypeErr.length > 0\n              ? (inputErrorField.textContent = fileTypeErr.join('\\r\\n'))\n              : !required && files.length > 0 && fileTypeErr.length > 0\n                ? (inputErrorField.textContent = fileTypeErr.join('\\r\\n'))\n                : (inputErrorField.textContent = '');\n        } else {\n          throw new Error(`Error initializing error message value for Input Name: ${input.name}`);\n        }\n        if (fileTypeErr.length > 0) input.value = '';\n      }\n      inputErrorField.textContent === '' && inputErrorField.remove();\n    }\n  }\n  if (cb) {\n    if (files) {\n      return required && files.length === 0\n        ? false\n        : required && files.length > 0 && !regexCheck.includes(false)\n          ? false\n          : !required && files.length > 0 && !regexCheck.includes(false)\n            ? false\n            : true;\n    }\n  }\n};\n//Based on input type, limits what keys are allowed\nconst handleInputKeys: EventListenerOrEventListenerObject = (evt) => {\n  const { key, target } = evt as KeyboardEvent; //get the key code from the event\n  if (!target) return;\n  if (target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement) {\n    const { dataset } = target;\n    ///////Need to write code to handle copy and paste shortcuts\n    const type = (dataset.type || target.type) === 'true' ? 'text' : dataset.type || target.type; //sets the input type\n    if (!inputTypes[type].keys.test(key)) {\n      evt.preventDefault();\n    } //passes key code through regex of allowed keys, if not allowed, no action is taken\n  }\n};\n//If there is no client side error field, create one and add as a sibling to input\nconst appendErrEl = (el: FormInput | HTMLFormElement | HTMLElement, isRadioCheckbox?: boolean) => {\n  const div = document.createElement('div'); //Create a div element\n  div.classList.add('error'); //applies class to div element\n  !isRadioCheckbox ? el.insertAdjacentElement('afterend', div) : el.appendChild(div); //places the div element next to its respective input\n};\n//Counts all inputs on load and compares count on final to protect against injection\nconst addCounter = () => Counter.init++;\n//Add Multiple event listeners with 1 call\nconst addMultipleEventListeners = (el: HTMLElement | FormInput, eTypes: Array<string>) => {\n  eTypes.forEach((eType) => {\n    el.addEventListener(eType, inputEventHandler);\n  });\n};\nconst removeAllEventListeners = (input: FormInput) => {\n  const events = ['keydown', 'input', 'change', 'blur'];\n  const handlers = [handleInputKeys, inputEventHandler];\n  for (let i = 0; i < events.length; i++) {\n    for (let j = 0; j < handlers.length; j++) {\n      input.removeEventListener(events[i], handlers[j]);\n    }\n  }\n};\n\n//Initialization Functions\nexport const initialize = () => {\n  const forms = document.querySelectorAll('form'); //select all forms on the page\n  forms.forEach((form) => {\n    const inputs: FormInput[] = Array.from(\n      form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    for (let i = 0; i < inputs.length; i++) {\n      addCounter();\n    }\n    inputs.forEach((input: FormInput) => {\n      const { type, dataset } = input;\n      const { type: dataType } = dataset;\n      const resolvedType =\n        (dataType || type) === 'true'\n          ? (dataType || type).toLowerCase()\n          : (dataType || type).toLowerCase(); //favor dataset value over native type (to allow for applying 'custom' application of formSubmit checks)\n      if (\n        !['file', 'image', 'hidden', 'select-one', 'select-multiple', 'radio', 'checkbox'].includes(\n          resolvedType,\n        )\n      ) {\n        !(input instanceof HTMLSelectElement) &&\n          !input.placeholder &&\n          (input.placeholder = inputPlaceholder[resolvedType]); //defaults to native placeholder value over store placeholder\n        if (resolvedType === 'ssn') input.setAttribute('type', 'password'); //add native html type to mask enter values on ssn fields\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n        input.addEventListener('keydown', handleInputKeys);\n      }\n      if (['file', 'image'].includes(resolvedType)) {\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n      }\n      if (['select-one', 'select-multiple'].includes(resolvedType)) {\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n      }\n      if (resolvedType === 'radio') {\n        input.addEventListener('change', controlRadios); //Forces only 1 radio selection, checkboxes should be used for multiselect\n        addMultipleEventListeners(input, ['input', 'blur']);\n      }\n      if (resolvedType === 'checkbox') {\n        addMultipleEventListeners(input, ['input', 'change', 'blur']);\n      }\n    });\n    form.addEventListener('submit', handleFormSubmit);\n  });\n};\nexport const reinitialize = () => {\n  Counter.init = 0;\n  const forms = document.querySelectorAll('form');\n  forms.forEach((form) => {\n    const inputs: FormInput[] = Array.from(\n      form.querySelectorAll(\n        'input:not([type=button]):not([type=reset]):not([type=submit]):not([type=image]),select,textarea',\n      ),\n    );\n    inputs.forEach((input) => removeAllEventListeners(input));\n    form.removeEventListener('submit', handleFormSubmit);\n  });\n  initialize();\n};\n","// mdEditor main.js\nimport { initialize, reinitialize, isValid, checkAllValidity } from './functions';\nexport async function init(): Promise<void> {\n  try {\n    // Wait for the DOMContentLoaded event before executing further\n    await new Promise<void>((resolve) => {\n      if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', () => resolve());\n      } else {\n        resolve();\n      }\n    });\n    initialize();\n  } catch (error: any) {\n    throw new Error(`${error.message}\\r\\nFailed to initialize mark down editor.`);\n  }\n}\n\n// Call the init function immediately when the module is imported\ninit();\n\n// Make functions available in the global scope for the browser console\n(window as any).isValid = isValid;\n(window as any).checkAllValidity = checkAllValidity;\n(window as any).reinitialize = reinitialize;\n"],"names":[],"mappings":"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"}